# ============================================
# RetroPhoto MVP - Environment Variables
# ============================================
#
# Copy this file to .env.local and fill in the actual values
#
# IMPORTANT: Never commit .env.local to version control!
#
# ============================================

# --------------------------------------------
# Supabase (Database + Storage)
# --------------------------------------------
# Get these from: https://supabase.com/dashboard/project/_/settings/api
#
# 1. Create a new project at supabase.com
# 2. Copy the Project URL and anon/public key
# 3. Run database migrations (see supabase/migrations/README.md)
#
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Supabase Database Connection (Postgres)
# Get these from: https://supabase.com/dashboard/project/_/settings/database
#
# DATABASE_URL: Direct connection string for migrations (psql)
# Format: postgresql://postgres:[password]@db.[project-ref].supabase.co:5432/postgres
DATABASE_URL=postgresql://postgres:your-password@db.xxxxx.supabase.co:5432/postgres

# Connection pooling URLs (for application use)
POSTGRES_URL=postgres://postgres.xxxxx:password@aws-0-us-east-1.pooler.supabase.com:6543/postgres?sslmode=require&supa=base-pooler.x
POSTGRES_PRISMA_URL=postgres://postgres.xxxxx:password@aws-0-us-east-1.pooler.supabase.com:6543/postgres?sslmode=require&pgbouncer=true
POSTGRES_URL_NON_POOLING=postgres://postgres.xxxxx:password@aws-0-us-east-1.pooler.supabase.com:5432/postgres?sslmode=require
POSTGRES_USER=postgres
POSTGRES_HOST=db.xxxxx.supabase.co
POSTGRES_PASSWORD=your-database-password
POSTGRES_DATABASE=postgres

# Alternative: For migration script, you can use NEXT_PUBLIC_SUPABASE_URL + SUPABASE_DB_PASSWORD
# The script will auto-construct DATABASE_URL if not provided
SUPABASE_DB_PASSWORD=your-database-password

# Supabase Service Role (Server-side only - NEVER expose to client)
# Get from: https://supabase.com/dashboard/project/_/settings/api
# WARNING: This key bypasses Row Level Security - use only in server-side code
#
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_JWT_SECRET=your-jwt-secret-from-supabase

# --------------------------------------------
# AI Provider APIs (Multi-Model Architecture)
# --------------------------------------------

# Replicate API (SwinIR for super-resolution)
# Get from: https://replicate.com/account/api-tokens
REPLICATE_API_TOKEN=r8_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Anthropic API (Claude Sonnet 4.5 for triage and analysis)
# Get from: https://console.anthropic.com/settings/keys
# REQUIRED for intelligent model routing
ANTHROPIC_API_KEY=sk-ant-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# OpenAI API (GPT-5 Thinking for portrait restoration) - OPTIONAL
# Get from: https://platform.openai.com/api-keys
# Only needed if using OpenAI models for restoration
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Google AI API (Gemini Pro 2.5 for landscape restoration) - OPTIONAL
# Get from: https://aistudio.google.com/app/apikey
# Only needed if using Gemini models for restoration
GOOGLE_AI_API_KEY=AIzaSyxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# X.AI API (Grok 4 Fast for document restoration) - OPTIONAL
# Get from: https://console.x.ai/
# Only needed if using Grok models for restoration
XAI_API_KEY=xai-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Groq API (Kimi K2 for quality validation) - OPTIONAL
# Get from: https://console.groq.com/keys
# Only needed if using Groq models for validation
GROQ_API_KEY=gsk_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# --------------------------------------------
# Application URLs
# --------------------------------------------
# Base URL for deep links and OG cards
#
# Development: http://localhost:3000
# Production: https://your-domain.com
#
NEXT_PUBLIC_BASE_URL=http://localhost:3000

# --------------------------------------------
# Sentry (Error Tracking + Performance Monitoring)
# --------------------------------------------
# Get these from: https://sentry.io/
#
# 1. Create a new project at sentry.io
# 2. Choose "Next.js" as the platform
# 3. Copy the DSN from Project Settings → Client Keys
# 4. Create an auth token from User Settings → Auth Tokens
#
# Required for TTM (Time-to-Magic) threshold monitoring
#
SENTRY_DSN=https://xxxxxxxxxxxxxxxxxxxxx@o000000.ingest.sentry.io/0000000
NEXT_PUBLIC_SENTRY_DSN=https://xxxxxxxxxxxxxxxxxxxxx@o000000.ingest.sentry.io/0000000
SENTRY_ORG=your-sentry-org
SENTRY_PROJECT=your-sentry-project
SENTRY_AUTH_TOKEN=sntrys_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# --------------------------------------------
# Stripe (Payment Processing)
# --------------------------------------------
# Get these from: https://dashboard.stripe.com/apikeys
#
# 1. Create a Stripe account at stripe.com
# 2. Get your API keys from the Stripe Dashboard
# 3. Use test keys for development, live keys for production
#
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Stripe Price IDs (create in Stripe Dashboard -> Products)
# STRIPE_CREDITS_PRICE_ID: Price ID for 10 credits pack ($9.99)
STRIPE_CREDITS_PRICE_ID=price_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# --------------------------------------------
# Cron Jobs (Scheduled Tasks)
# --------------------------------------------
# Secret token for authenticating cron job requests
# Generate with: openssl rand -base64 32
#
CRON_SECRET=your-random-secret-token-here

# --------------------------------------------
# Upstash Redis (Distributed Rate Limiting)
# --------------------------------------------
# Get these from: https://console.upstash.com/
#
# 1. Create a Redis database at console.upstash.com
# 2. Copy the REST URL and REST TOKEN from database details
# 3. Optional: Set USE_REDIS_RATE_LIMIT=false to disable Redis and use in-memory
#
# When these are set, the app will use distributed rate limiting across
# all serverless function invocations. Without them, in-memory rate limiting
# is used (which resets on cold starts).
#
UPSTASH_REDIS_REST_URL=https://xxxxx.upstash.io
UPSTASH_REDIS_REST_TOKEN=xxxxx
USE_REDIS_RATE_LIMIT=true

# --------------------------------------------
# Vercel (Deployment + Analytics)
# --------------------------------------------
# Optional - automatically set by Vercel during deployment
#
# Leave empty for local development
#
NEXT_PUBLIC_VERCEL_URL=

# --------------------------------------------
# PWA Configuration (Optional)
# --------------------------------------------
# These are optional and have sensible defaults in manifest.json
#
NEXT_PUBLIC_APP_NAME=RetroPhoto
NEXT_PUBLIC_APP_SHORT_NAME=RetroPhoto
NEXT_PUBLIC_APP_DESCRIPTION=Preserve memories by turning old photos into realistic HD in seconds

# ============================================
# DEPLOYMENT CHECKLIST
# ============================================
#
# Before deploying to production:
#
# [ ] Run database migrations in Supabase dashboard
# [ ] Verify all environment variables are set
# [ ] Test with real API keys in .env.local
# [ ] Run `npm run build` to verify production build
# [ ] Run `npm run lighthouse` to check performance
# [ ] Generate PWA icons (see public/icons/README.md)
# [ ] Update NEXT_PUBLIC_BASE_URL to production domain
#
# See DEPLOYMENT.md for full checklist
#
# ============================================
